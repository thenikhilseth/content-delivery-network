/// <reference types="node" />
import http2 from 'http2';
import { AssetCacheConfig } from './asset-cache';
export { AssetCacheConfig } from './asset-cache';
export interface PreprocessResult {
    newCacheCookie: string;
    pushFn: () => Promise<void>;
}
export declare class AutoPush {
    private readonly rootDir;
    private readonly assetCache;
    constructor(rootDir: string, cacheConfig?: AssetCacheConfig);
    private addCacheHeaders;
    recordRequestPath(session: http2.Http2Session, reqPath: string, isStatic: boolean): void;
    preprocessRequest(reqPath: string, stream: http2.ServerHttp2Stream, cacheCookie?: string): Promise<PreprocessResult>;
    private getAutoPushList;
    private push;
}
